# To create a supression run somthing like:
# valgrind --tool=memcheck --track-fds=yes --leak-check=yes --num-callers=50 --suppressions=chaste.supp --gen-suppressions=yes io/build/debug/TestSpiralParametersReaderRunner

#
# Suppression a memory checking error caused by Boost's serialization library
#
{
   boost-archive-reset-object-address-cond
   Memcheck:Cond
   fun:_ZN5boost7archive6detail14basic_iarchive20reset_object_addressEPKvS4_
   fun:_ZN5boost13serialization3stl17archive_input_seqINS_7archive13text_iarchiveESt6vectorIdSaIdEEEclERS4_RS7_
   fun:_ZN5boost13serialization3stl18rebuild_collectionINS_7archive13text_iarchiveESt6vectorIdSaIdEENS1_17archive_input_seqIS4_S7_EENS1_11reserve_impIS7_EEEEvRT_RT0_
   fun:_ZN5boost13serialization3stl15load_collectionINS_7archive13text_iarchiveESt6vectorIdSaIdEENS1_17archive_input_seqIS4_S7_EENS1_11reserve_impIS7_EEEEvRT_RT0_
   fun:_ZN5boost13serialization4loadINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization11free_loaderINS_7archive13text_iarchiveESt6vectorIdSaIdEEE6invokeERS3_RS6_j
   fun:_ZN5boost13serialization10split_freeINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZN5boost13serialization9serializeINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization13serialize_adlINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZNK5boost7archive6detail11iserializerINS0_13text_iarchiveESt6vectorIdSaIdEEE16load_object_dataERNS1_14basic_iarchiveEPvj
   fun:_ZN5boost7archive6detail14basic_iarchive11load_objectEPvRKNS1_17basic_iserializerE
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE13load_standard6invokeERS3_RS6_
}
{
   boost-archive-reset-object-address-cond-64bit
   Memcheck:Cond
   fun:_ZN5boost7archive6detail14basic_iarchive20reset_object_addressEPKvS4_
   fun:_ZN5boost13serialization3stl17archive_input_seqINS_7archive13text_iarchiveESt6vectorIdSaIdEEEclERS4_RS7_j
   fun:_ZN5boost13serialization3stl15load_collectionINS_7archive13text_iarchiveESt6vectorIdSaIdEENS1_17archive_input_seqIS4_S7_EENS1_11reserve_impIS7_EEEEvRT_RT0_
   fun:_ZN5boost13serialization4loadINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization11free_loaderINS_7archive13text_iarchiveESt6vectorIdSaIdEEE6invokeERS3_RS6_j
   fun:_ZN5boost13serialization10split_freeINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZN5boost13serialization9serializeINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization13serialize_adlINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZNK5boost7archive6detail11iserializerINS0_13text_iarchiveESt6vectorIdSaIdEEE16load_object_dataERNS1_14basic_iarchiveEPvj
   fun:_ZN5boost7archive6detail14basic_iarchive11load_objectEPvRKNS1_17basic_iserializerE
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE13load_standard6invokeERS3_RS6_
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE16load_conditional6invokeERS3_RS6_
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE6invokeERS3_RS6_
   fun:_ZN5boost7archive4loadINS0_13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_
   fun:_ZN5boost7archive6detail15common_iarchiveINS0_13text_iarchiveEE13load_overrideISt6vectorIdSaIdEEEEvRT_i
   fun:_ZN5boost7archive19basic_text_iarchiveINS0_13text_iarchiveEE13load_overrideISt6vectorIdSaIdEEEEvRT_i
   fun:_ZN5boost7archive18text_iarchive_implINS0_13text_iarchiveEE13load_overrideISt6vectorIdSaIdEEEEvRT_i
   fun:_ZN5boost7archive6detail18interface_iarchiveINS0_13text_iarchiveEErsISt6vectorIdSaIdEEEERS3_RT_
   fun:_ZN5boost7archive6detail18interface_iarchiveINS0_13text_iarchiveEEanISt6vectorIdSaIdEEEERS3_RT_
   fun:_ZN22ClassOfSimpleVariables9serializeIN5boost7archive13text_iarchiveEEEvRT_j
   fun:_ZN5boost13serialization6access9serializeINS_7archive13text_iarchiveE22ClassOfSimpleVariablesEEvRT_RT0_j
   fun:_ZN5boost13serialization9serializeINS_7archive13text_iarchiveE22ClassOfSimpleVariablesEEvRT_RT0_j
   fun:_ZN5boost13serialization13serialize_adlINS_7archive13text_iarchiveE22ClassOfSimpleVariablesEEvRT_RT0_j
   fun:_ZNK5boost7archive6detail11iserializerINS0_13text_iarchiveE22ClassOfSimpleVariablesE16load_object_dataERNS1_14basic_iarchiveEPvj
}

{
   boost-archive-reset-object-address-value
   Memcheck:Value4
   fun:_ZN5boost7archive6detail14basic_iarchive20reset_object_addressEPKvS4_
   fun:_ZN5boost13serialization3stl17archive_input_seqINS_7archive13text_iarchiveESt6vectorIdSaIdEEEclERS4_RS7_
   fun:_ZN5boost13serialization3stl18rebuild_collectionINS_7archive13text_iarchiveESt6vectorIdSaIdEENS1_17archive_input_seqIS4_S7_EENS1_11reserve_impIS7_EEEEvRT_RT0_
   fun:_ZN5boost13serialization3stl15load_collectionINS_7archive13text_iarchiveESt6vectorIdSaIdEENS1_17archive_input_seqIS4_S7_EENS1_11reserve_impIS7_EEEEvRT_RT0_
   fun:_ZN5boost13serialization4loadINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization11free_loaderINS_7archive13text_iarchiveESt6vectorIdSaIdEEE6invokeERS3_RS6_j
   fun:_ZN5boost13serialization10split_freeINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZN5boost13serialization9serializeINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization13serialize_adlINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZNK5boost7archive6detail11iserializerINS0_13text_iarchiveESt6vectorIdSaIdEEE16load_object_dataERNS1_14basic_iarchiveEPvj
   fun:_ZN5boost7archive6detail14basic_iarchive11load_objectEPvRKNS1_17basic_iserializerE
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE13load_standard6invokeERS3_RS6_
}
{
   boost-archive-reset-object-address-value-64bit
   Memcheck:Value8
   fun:_ZN5boost7archive6detail14basic_iarchive20reset_object_addressEPKvS4_
   fun:_ZN5boost13serialization3stl17archive_input_seqINS_7archive13text_iarchiveESt6vectorIdSaIdEEEclERS4_RS7_j
   fun:_ZN5boost13serialization3stl15load_collectionINS_7archive13text_iarchiveESt6vectorIdSaIdEENS1_17archive_input_seqIS4_S7_EENS1_11reserve_impIS7_EEEEvRT_RT0_
   fun:_ZN5boost13serialization4loadINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization11free_loaderINS_7archive13text_iarchiveESt6vectorIdSaIdEEE6invokeERS3_RS6_j
   fun:_ZN5boost13serialization10split_freeINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZN5boost13serialization9serializeINS_7archive13text_iarchiveEdSaIdEEEvRT_RSt6vectorIT0_T1_Ej
   fun:_ZN5boost13serialization13serialize_adlINS_7archive13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_j
   fun:_ZNK5boost7archive6detail11iserializerINS0_13text_iarchiveESt6vectorIdSaIdEEE16load_object_dataERNS1_14basic_iarchiveEPvj
   fun:_ZN5boost7archive6detail14basic_iarchive11load_objectEPvRKNS1_17basic_iserializerE
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE13load_standard6invokeERS3_RS6_
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE16load_conditional6invokeERS3_RS6_
   fun:_ZN5boost7archive6detail21load_non_pointer_typeINS0_13text_iarchiveESt6vectorIdSaIdEEE6invokeERS3_RS6_
   fun:_ZN5boost7archive4loadINS0_13text_iarchiveESt6vectorIdSaIdEEEEvRT_RT0_
   fun:_ZN5boost7archive6detail15common_iarchiveINS0_13text_iarchiveEE13load_overrideISt6vectorIdSaIdEEEEvRT_i
   fun:_ZN5boost7archive19basic_text_iarchiveINS0_13text_iarchiveEE13load_overrideISt6vectorIdSaIdEEEEvRT_i
   fun:_ZN5boost7archive18text_iarchive_implINS0_13text_iarchiveEE13load_overrideISt6vectorIdSaIdEEEEvRT_i
   fun:_ZN5boost7archive6detail18interface_iarchiveINS0_13text_iarchiveEErsISt6vectorIdSaIdEEEERS3_RT_
   fun:_ZN5boost7archive6detail18interface_iarchiveINS0_13text_iarchiveEEanISt6vectorIdSaIdEEEERS3_RT_
   fun:_ZN22ClassOfSimpleVariables9serializeIN5boost7archive13text_iarchiveEEEvRT_j
   fun:_ZN5boost13serialization6access9serializeINS_7archive13text_iarchiveE22ClassOfSimpleVariablesEEvRT_RT0_j
   fun:_ZN5boost13serialization9serializeINS_7archive13text_iarchiveE22ClassOfSimpleVariablesEEvRT_RT0_j
   fun:_ZN5boost13serialization13serialize_adlINS_7archive13text_iarchiveE22ClassOfSimpleVariablesEEvRT_RT0_j
   fun:_ZNK5boost7archive6detail11iserializerINS0_13text_iarchiveE22ClassOfSimpleVariablesE16load_object_dataERNS1_14basic_iarchiveEPvj
}

#
# Xerces memory error
#
{
   xerces-reader 
   Memcheck:Cond
   fun:_ZN11xercesc_2_717XMLUTF8Transcoder13transcodeFromEPKhjPtjRjPh
   fun:_ZN11xercesc_2_79XMLReader14xcodeMoreCharsEPtPhj
   fun:_ZN11xercesc_2_79XMLReader17refreshCharBufferEv
   fun:_ZN11xercesc_2_79ReaderMgr12peekNextCharEv
   fun:_ZN11xercesc_2_710XMLScanner10scanPrologEv
   fun:_ZN11xercesc_2_712IGXMLScanner12scanDocumentERKNS_11InputSourceE
   fun:_ZN11xercesc_2_710XMLScanner12scanDocumentEPKt
   fun:_ZN11xercesc_2_717AbstractDOMParser5parseEPKt
   fun:_ZN11xercesc_2_714DOMBuilderImpl8parseURIEPKt
   fun:_ZN3xsd3cxx3xml3dom5parseIcEENS2_8auto_ptrIN11xercesc_2_711DOMDocumentEEERKSbIT_St11char_traitsIS8_ESaIS8_EERNS5_15DOMErrorHandlerERKNS1_10propertiesIS8_EEm
   fun:_ZN3xsd3cxx3xml3dom5parseIcEENS2_8auto_ptrIN11xercesc_2_711DOMDocumentEEERKSbIT_St11char_traitsIS8_ESaIS8_EERNS1_13error_handlerIS8_EERKNS1_10propertiesIS8_EEm
}


#
# getpwuid on Debian-based systems
#
{
   get-user-name
   Memcheck:Leak
   fun:malloc
   obj:/lib/libc-2.6.1.so
   fun:__nss_database_lookup
   obj:*
   obj:*
   fun:getpwuid_r
   fun:getpwuid
   fun:_Z16PetscGetUserNamePcm
   fun:_Z26PetscErrorPrintfInitializev
   fun:_Z15PetscInitializePiPPPcPKcS4_
   fun:_ZN10PetSCSetup10setUpWorldEv
   fun:_ZN7CxxTest20RealWorldDescription5setUpEv
   fun:_ZN7CxxTest10TestRunner8runWorldEv
   fun:_ZN7CxxTest10TestRunner11runAllTestsERNS_12TestListenerE
   fun:_ZN7CxxTest14ErrorFormatter3runEv
   fun:main
 }
#
# getpwuid on Debian-based systems
#
{
   get-user-name-2
   Memcheck:Addr8
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/ld-2.6.1.so
   obj:/lib/libc-2.6.1.so
   obj:/lib/ld-2.6.1.so
   fun:__libc_dlopen_mode
   fun:__nss_lookup_function
   obj:/lib/libc-2.6.1.so
   fun:getpwuid_r
   fun:getpwuid
   fun:_Z16PetscGetUserNamePcm
   fun:_Z26PetscErrorPrintfInitializev
   fun:_Z15PetscInitializePiPPPcPKcS4_
   fun:_ZN10PetSCSetup10setUpWorldEv
   fun:_ZN7CxxTest20RealWorldDescription5setUpEv
   fun:_ZN7CxxTest10TestRunner8runWorldEv
   fun:_ZN7CxxTest10TestRunner11runAllTestsERNS_12TestListenerE
}

#
# HDF5 free lists (see http://hdf.ncsa.uiuc.edu/HDF5/faq/valgrind.html )
#

{
   HDF5-free-lists-variant1
   Memcheck:Param
   write(buf)
   fun:__write_nocancel
   fun:ADIOI_GEN_WriteContig
   fun:MPIOI_File_write
   fun:PMPI_File_write_at
   fun:H5FD_mpio_write
   fun:H5FD_write
   fun:H5F_write_superblock
   fun:H5F_flush
   fun:H5F_try_close
   fun:H5F_close
   fun:H5I_dec_ref
   fun:H5Fclose
}

{
   HDF5-free-lists-variant2
   Memcheck:Param
   write(buf)
   fun:__write_nocancel
   fun:ADIOI_GEN_WriteContig
   fun:MPIOI_File_write
   fun:PMPI_File_write_at
   fun:H5FD_mpio_write
   fun:H5FD_write
   fun:H5F_block_write
   fun:H5B_flush
   fun:H5C_flush_single_entry
   fun:H5C_flush_cache
   fun:H5AC_flush
   fun:H5F_flush
   fun:H5F_try_close
   fun:H5F_close
   fun:H5I_dec_ref
   fun:H5Fclose
}
