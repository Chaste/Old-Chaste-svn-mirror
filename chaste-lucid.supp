##################################################
# Suppressions of library errors in Ubuntu Lucid #
##################################################

# HDF5
######

{
   HDF5 file close
   Memcheck:Param
   write(buf)
   fun:__write_nocancel
   fun:ADIOI_GEN_WriteContig
   fun:MPIOI_File_write
   fun:mca_io_romio_dist_MPI_File_write_at
   fun:PMPI_File_write_at
   obj:/usr/lib/libhdf5.so.6.0.3
   fun:H5FD_write
   fun:H5F_block_write
   obj:/usr/lib/libhdf5.so.6.0.3
   obj:/usr/lib/libhdf5.so.6.0.3
   fun:H5C_flush_cache
   fun:H5AC_flush
   fun:H5F_flush
   fun:H5F_try_close
   obj:/usr/lib/libhdf5.so.6.0.3
   fun:H5I_dec_ref
   fun:H5Fclose
}
{
   HDF5 file create (main)
   Memcheck:Leak
   fun:malloc
   ...
   fun:PMPI_File_open
   obj:/usr/lib/libhdf5.so.*
   fun:H5FD_open
   fun:H5F_open
   fun:H5Fcreate
}
{
   HDF5 open (malloc)
   Memcheck:Leak
   fun:malloc
   ...
   fun:PMPI_File_open
   obj:/usr/lib/libhdf5.so.*
   fun:H5FD_open
   fun:H5F_open
   fun:H5Fopen
}

# Boost
#######

{
   boost serialization error
   Memcheck:Leak
   fun:_Znwm
   fun:_ZNK5boost13serialization16void_cast_detail11void_caster18recursive_registerEb
}

# PETSc/OpenMPI
###############
{
   mpi_init (writev)
   Memcheck:Param
   writev(vector[...])
   fun:writev
   ...
   obj:*/libmpi.so*
   fun:PMPI_Init
   fun:*PetscInitialize*
   fun:_ZN10PetscSetup10setUpWorldEv
   fun:_ZN7CxxTest20RealWorldDescription5setUpEv
   fun:_ZN7CxxTest10TestRunner8runWorldEv
   fun:_ZN7CxxTest10TestRunner11runAllTestsERNS_12TestListenerE
   fun:_ZN7CxxTest14ErrorFormatter3runEv
   fun:main
}
{
   mpi_init (malloc)
   Memcheck:Leak
   fun:malloc
   ...
   obj:*/libmpi.so*
   fun:PMPI_Init
   fun:*PetscInitialize*
}
{
   mpi_init (realloc)
   Memcheck:Leak
   fun:realloc
   ...
   obj:*/libmpi.so*
   fun:PMPI_Init
   fun:*PetscInitialize*
}
{
   mpi_init (calloc)
   Memcheck:Leak
   fun:calloc
   ...
   obj:*/libmpi.so*
   fun:PMPI_Init
   fun:*PetscInitialize*
}
{
   mpi_init (sched)
   Memcheck:Param
   sched_setaffinity(mask)
   ...
   obj:*/libmpi.so*
   fun:PMPI_Init
   fun:*PetscInitialize*
}

{
   petsc finalize (malloc)
   Memcheck:Leak
   fun:malloc
   ...
   obj:*/libmpi.so*
   ...
   fun:*PetscFinalize*
}


{
   Unset filename in HYPRE_BoomerAMG todo: should this be set?
   Memcheck:Cond
   ...
   fun:hypre_BoomerAMGSetPlotFileName
   fun:hypre_BoomerAMGCreate
   fun:HYPRE_BoomerAMGCreate
   fun:PCHYPRESetType_HYPRE
   fun:PCSetFromOptions_HYPRE
   fun:PCSetFromOptions
}


# This last one is perhaps a little more dubious...
{
   keyval create (malloc)
   Memcheck:Leak
   fun:malloc
   ...
   obj:*/libmpi.so*
   fun:ompi_attr_create_keyval
   fun:PMPI_Keyval_create
}
#   fun:*PetscCommDuplicate*
#   fun:*PetscHeaderCreate_Private*
#   fun:*VecCreate*






# VTK
#####

{
   VTK-ExpandTable 1
   Memcheck:Cond
   fun:_ZN14vtkInformation11ExpandTableEv
   fun:_ZN14vtkInformation15SetAsObjectBaseEP17vtkInformationKeyP13vtkObjectBase
   ...
   fun:_ZN23vtkDemandDrivenPipeline14ProcessRequestEP14vtkInformationPP20vtkInformationVectorS3_
   ...
   fun:_ZN32vtkStreamingDemandDrivenPipeline6UpdateEi
   fun:_ZN12vtkXMLWriter5WriteEv
   fun:*MeshWriter*
}

{
   VTK-ExpandTable 2
   Memcheck:Cond
   fun:_ZN14vtkInformation11ExpandTableEv
   fun:_ZN14vtkInformation15SetAsObjectBaseEP17vtkInformationKeyP13vtkObjectBase
   fun:_ZN13vtkDataObject10InitializeEv
   fun:_ZN10vtkDataSet10InitializeEv
   fun:_ZN11vtkPointSet10InitializeEv
   fun:_ZN19vtkUnstructuredGrid10InitializeEv
   fun:_ZN19vtkUnstructuredGridD0Ev
   fun:_ZN9vtkObject18UnRegisterInternalEP13vtkObjectBasei
   fun:_ZN16VertexMeshWriter*
}

{  
   VTK-ExpandTable 3
   Memcheck:Cond
   fun:_ZN14vtkInformation11ExpandTableEv
   fun:_ZN14vtkInformation15SetAsObjectBaseEP17vtkInformationKeyP13vtkObjectBase
   ...
   fun:_ZN23vtkDemandDrivenPipeline14ProcessRequestEP14vtkInformationPP20vtkInformationVectorS3_
   ...
   fun:_ZN32vtkStreamingDemandDrivenPipeline6UpdateEi
   fun:_ZN13VtkMeshReader*
}


{
   VTK-information vertex 1
   Memcheck:Cond
   fun:_ZN14vtkInformationD0Ev
   fun:_ZN9vtkObject18UnRegisterInternalEP13vtkObjectBasei
   ...
   fun:_ZN23vtkGarbageCollectorImpl16CollectComponentEPNS_13ComponentTypeE
   fun:_ZN23vtkGarbageCollectorImpl15CollectInternalEP13vtkObjectBase
   fun:_ZN19vtkGarbageCollector7CollectEP13vtkObjectBase
   fun:_ZN9vtkObject18UnRegisterInternalEP13vtkObjectBasei
   fun:_ZN16VertexMeshWriter*
}

{
   VTK-information vertex 2
   Memcheck:Cond
   fun:_ZN14vtkInformationD0Ev
   fun:_ZN9vtkObject18UnRegisterInternalEP13vtkObjectBasei
   fun:_ZN13vtkDataObject14SetInformationEP14vtkInformation
   fun:_ZN13vtkDataObjectD2Ev
   fun:_ZN19vtkUnstructuredGridD0Ev
   fun:_ZN9vtkObject18UnRegisterInternalEP13vtkObjectBasei
   fun:_ZN16VertexMeshWriter*
}

{
   VTK-information
   Memcheck:Cond
   fun:_ZN14vtkInformationD0Ev
   fun:_ZN9vtkObject18UnRegisterInternalEP13vtkObjectBasei
   ...
   fun:_ZN23vtkGarbageCollectorImpl16CollectComponentEPNS_13ComponentTypeE
   fun:_ZN23vtkGarbageCollectorImpl15CollectInternalEP13vtkObjectBase
   fun:_ZN19vtkGarbageCollector7CollectEP13vtkObjectBase
   fun:_ZN9vtkObject18UnRegisterInternalEP13vtkObjectBasei
   fun:_ZN13VtkMesh*
}

{  
   VTK-information-copy
   Memcheck:Cond
   fun:_ZN14vtkInformation4CopyEPS_i
   fun:_ZN34vtkInformationInformationVectorKey8DeepCopyEP14vtkInformationS1_
   fun:_ZN13vtkDataObject25CopyInformationToPipelineEP14vtkInformationS1_S1_i
   fun:_ZN23vtkDemandDrivenPipeline18ExecuteInformationEP14vtkInformationPP20vtkInformationVectorS3_
   fun:_ZN32vtkStreamingDemandDrivenPipeline18ExecuteInformationEP14vtkInformationPP20vtkInformationVectorS3_
   fun:_ZN23vtkDemandDrivenPipeline14ProcessRequestEP14vtkInformationPP20vtkInformationVectorS3_
   fun:_ZN32vtkStreamingDemandDrivenPipeline6UpdateEi
   fun:_ZN13VtkMeshReader*
}

