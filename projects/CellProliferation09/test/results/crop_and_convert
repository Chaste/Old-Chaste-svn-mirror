#!/bin/bash
#
# This script crops the output *.png files of the Chaste visualizer to make a better sized picture.
# It then converts them into *.eps files for putting in reports.
# 

# Slightly different cropping for the two sets of data.
for f in *Meineke*.png; 
do 
	echo $f;
	convert $f  -crop 556x488+72+120 ${f}_cropped.png;
	png2eps ${f}_cropped.png -> ${f}.eps
done
for f in *Simple*.png; 
do 
	echo $f; 
	convert $f  -crop 558x470+77+118 ${f}_cropped.png;
	png2eps ${f}_cropped.png -> ${f}.eps
done
rm -f *_cropped.png

# They are currently called *.png.eps files and we need to change that to just *.eps
for f in *.png.eps; 
do
	original_file=$f;
	new_file=`echo $f | sed -e 's/.png.eps/.eps/'`
	#echo "$original_file has changed to $new_file"
	mv $original_file $new_file
done
